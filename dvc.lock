schema: '2.0'
stages:
  prepare:
    cmd: mkdir -p data/prepared && cp -r data/raw/* data/prepared
    deps:
    - path: data/raw
      hash: md5
      md5: 69b022f3cfea7c6d19e7f068361ba401.dir
      size: 663764243
      nfiles: 11
    outs:
    - path: data/prepared
      hash: md5
      md5: 69b022f3cfea7c6d19e7f068361ba401.dir
      size: 663764243
      nfiles: 11
  train:
    cmd: python3.9 -m src.train configs/train_config.yaml
    deps:
    - path: configs/train_config.yaml
      hash: md5
      md5: b068f590f9f19c0b0c4e1cb83312fd80
      size: 645
    - path: data/prepared
      hash: md5
      md5: 69b022f3cfea7c6d19e7f068361ba401.dir
      size: 663764243
      nfiles: 11
    - path: src/data_loader.py
      hash: md5
      md5: b3d851b057c362dd51659ecb4e627227
      size: 1814
    - path: src/model.py
      hash: md5
      md5: 47037c6cf8be28661eff8e074b8396c6
      size: 2880
    - path: src/train.py
      hash: md5
      md5: c748ec1d4f2602930781be9d15a504cc
      size: 2089
    params:
      configs/train_config.yaml:
        model.name: google/mt5-small
        training.learning_rate: 0.0003
        training.num_train_epochs: 3
    outs:
    - path: results_
      hash: md5
      md5: 834d97fd763166e14e81ac7eefe69643.dir
      size: 12090417050
      nfiles: 44
  evaluate:
    cmd: python3.9 src/run_evaluation.py --config_path configs/val_config.yaml 
      --model_path results
    deps:
    - path: results
      hash: md5
      md5: 6ce2036e58c6d450ae04dd69d5e1ca12.dir
      size: 12090417083
      nfiles: 44
    - path: src/run_evaluation.py
      hash: md5
      md5: 6038469df0bbe6c07a5ec2570c89e497
      size: 5084
    outs:
    - path: evaluation_metrics.json
      hash: md5
      md5: 41503ce346596479c63517cb37db7431
      size: 148
